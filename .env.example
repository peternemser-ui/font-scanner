# Server Configuration
PORT=3000
NODE_ENV=development
BASE_URL=http://localhost:3000

# Database
DATABASE_PATH=./data/fontscanner.db

# Authentication (Phase 1)
# IMPORTANT: Change this in production! Use a long random string (32+ characters)
JWT_SECRET=change-this-in-production-use-long-random-string-min-32-chars

# Stripe Payment Integration (Phase 2)
# Get these from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_your_test_secret_key_here
STRIPE_PUBLISHABLE_KEY=pk_test_your_test_publishable_key_here

# Stripe Webhook Secret (get from: https://dashboard.stripe.com/webhooks)
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# Stripe Price IDs (from Stripe Dashboard > Products)
STRIPE_PRO_PRICE_ID=price_your_monthly_price_id
STRIPE_PRO_ANNUAL_PRICE_ID=price_your_annual_price_id

# Logging
LOG_LEVEL=INFO

# Rate Limiting
# Global rate limit (applies to all API endpoints except health checks)
RATE_LIMIT_WINDOW_MS=900000          # 15 minutes in milliseconds
RATE_LIMIT_MAX_REQUESTS=100          # Maximum requests per window per IP

# Scan endpoint rate limit (more restrictive for resource-intensive operations)
SCAN_RATE_LIMIT_WINDOW_MS=900000     # 15 minutes in milliseconds
SCAN_RATE_LIMIT_MAX_REQUESTS=20      # Maximum scans per window per IP

# Download endpoint rate limit (PDF report downloads)
DOWNLOAD_RATE_LIMIT_WINDOW_MS=900000 # 15 minutes in milliseconds
DOWNLOAD_RATE_LIMIT_MAX_REQUESTS=50  # Maximum downloads per window per IP

# Whitelisted IPs (comma-separated, optional - for admin/monitoring tools)
# RATE_LIMIT_WHITELIST=10.0.0.1,192.168.1.100

# Security
CORS_ORIGIN=*

# Puppeteer Configuration
PUPPETEER_HEADLESS=true
PUPPETEER_TIMEOUT=30000

# Report Storage
REPORTS_DIR=./reports
REPORTS_RETENTION_DAYS=7

# Performance
MAX_PAGES_TO_SCAN=10
SCAN_TIMEOUT=60000

# Error Telemetry
ERROR_TELEMETRY_ENABLED=true                   # Enable/disable error tracking
ERROR_TELEMETRY_MAX_ERRORS=1000                # Maximum errors to store in memory
ERROR_TELEMETRY_MAX_AGGREGATIONS=100           # Maximum error aggregations to track
ERROR_TELEMETRY_RETENTION_HOURS=24             # How long to keep errors (in hours)
ERROR_TELEMETRY_THRESHOLD_MINUTE=10            # Alert if > 10 errors/minute
ERROR_TELEMETRY_THRESHOLD_HOUR=100             # Alert if > 100 errors/hour
ERROR_TELEMETRY_THRESHOLD_DAY=1000             # Alert if > 1000 errors/day
