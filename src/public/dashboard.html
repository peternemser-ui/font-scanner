<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#000000" />

    <!-- Primary Meta Tags -->
    <title>Site Mechanic - Scan, Diagnose, Prioritize, Improve</title>
    <meta name="title" content="Site Mechanic - Website Diagnostics Platform" />
    <meta name="description" content="Scan any website. Diagnose issues across SEO, speed, accessibility, and security. Prioritize by severity. Get client-ready reports with actionable fixes." />
    <meta name="keywords" content="website diagnostics, site scan, SEO issues, performance problems, accessibility audit, security vulnerabilities, prioritize fixes, site mechanic" />
    <meta name="author" content="Site Mechanic" />
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
    <link rel="canonical" href="https://sitemechanic.io/dashboard.html" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://sitemechanic.io/dashboard.html" />
    <meta property="og:title" content="Site Mechanic - Scan, Diagnose, Prioritize, Improve" />
    <meta property="og:description" content="Scan any website. Diagnose issues across SEO, speed, accessibility, and security. Prioritize by severity. Get actionable fixes." />
    <meta property="og:image" content="https://sitemechanic.io/og-dashboard.png" />
    <meta property="og:site_name" content="Site Mechanic" />
    <meta property="og:locale" content="en_US" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://sitemechanic.io/dashboard.html" />
    <meta property="twitter:title" content="Site Mechanic - Scan, Diagnose, Prioritize, Improve" />
    <meta property="twitter:description" content="Scan any website. Diagnose issues across SEO, speed, accessibility, and security. Prioritize by severity. Get actionable fixes." />
    <meta property="twitter:image" content="https://sitemechanic.io/twitter-dashboard.png" />

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <!-- Design System Foundation -->
    <link rel="stylesheet" href="design-tokens.css" />
    <link rel="stylesheet" href="components.css" />
    <link rel="stylesheet" href="layout.css" />
    <!-- Shared UI System -->
    <link rel="stylesheet" href="ui.css" />
    <!-- Existing Styles -->
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="progress-styles.css" />
    <link rel="stylesheet" href="analyzer-loading.css" />
    <link rel="stylesheet" href="ui-components.css" />
    <link rel="stylesheet" href="spacing-fixes.css" />
    <link rel="stylesheet" href="faq.css" />

    <!-- PDF Export Styles -->
    <link rel="stylesheet" href="/pdf-export-styles.css">

    <!-- Report UI Components -->
    <link rel="stylesheet" href="/css/components/modal.css" />
    <link rel="stylesheet" href="/css/components/screenshot-lightbox.css" />
    <link rel="stylesheet" href="/css/components/pro-report-block.css" />
    <link rel="stylesheet" href="/css/components/pricing-modal.css" />

    <!-- CRITICAL: Theme background fix -->
    <style>
      /* Dark mode (when white-theme is NOT present) */
      body:not(.white-theme) {
        background: #000000 !important;
        background-color: #000000 !important;
      }
      /* Light mode (when white-theme IS present) */
      body.white-theme {
        background: linear-gradient(180deg, #ffffff 0%, #f0fff4 100%) !important;
        color: #1a1a1a !important;
      }

      /* Dashboard Layout */
      .dashboard-main {
        max-width: 1400px;
        margin: 0;
        padding: 2rem 1.5rem 4rem;
        min-height: calc(100vh - 80px);
      }

      .dashboard-header {
        margin-bottom: 2rem;
      }

      .dashboard-title {
        font-size: 2rem;
        font-weight: 700;
        color: var(--text-primary, #fff);
        margin: 0 0 0.5rem 0;
      }

      .dashboard-subtitle {
        font-size: 1rem;
        color: var(--text-secondary, #888);
        margin: 0;
      }

      /* Two-column grid */
      .dashboard-grid {
        display: grid;
        grid-template-columns: 1fr 380px;
        gap: 1.5rem;
        align-items: start;
      }

      @media (max-width: 900px) {
        .dashboard-grid {
          grid-template-columns: 1fr;
        }
        .dashboard-right {
          order: 2;
        }
      }

      .dashboard-left {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
      }

      .dashboard-right {
        position: sticky;
        top: 100px;
      }

      /* Cards */
      .dashboard-card {
        background: var(--bg-card, rgba(255,255,255,0.03));
        border: 1px solid var(--border-color, rgba(255,255,255,0.1));
        border-radius: 12px;
        padding: 1.5rem;
      }

      .card-heading {
        font-size: 1.1rem;
        font-weight: 600;
        color: var(--text-primary, #fff);
        margin: 0 0 1rem 0;
      }

      /* Scan form */
      .scan-form .input-label {
        display: block;
        font-size: 0.875rem;
        font-weight: 500;
        color: var(--text-secondary, #888);
        margin-bottom: 0.5rem;
      }

      .scan-form .input-group {
        display: flex;
        gap: 0.75rem;
      }

      .scan-form .url-input {
        flex: 1;
        padding: 0.875rem 1rem;
        font-size: 1rem;
        border: 1px solid var(--border-color, rgba(255,255,255,0.15));
        border-radius: 8px;
        background: var(--bg-input, rgba(255,255,255,0.05));
        color: var(--text-primary, #fff);
        transition: border-color 0.2s, box-shadow 0.2s;
      }

      .scan-form .url-input:focus {
        outline: none;
        border-color: var(--accent-primary, #00ff41);
        box-shadow: 0 0 0 3px rgba(0,255,65,0.15);
      }

      .scan-form .scan-button {
        padding: 0.875rem 1.5rem;
        font-size: 1rem;
        font-weight: 600;
        background: var(--accent-primary, #00ff41);
        color: #000;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        white-space: nowrap;
        transition: background 0.2s, transform 0.1s;
      }

      .scan-form .scan-button:hover {
        background: var(--accent-primary-dark, #00cc33);
      }

      .scan-form .scan-button:focus {
        outline: none;
        box-shadow: 0 0 0 3px rgba(0,255,65,0.3);
      }

      .scan-form .scan-button:disabled {
        opacity: 0.6;
        cursor: not-allowed;
      }

      .scan-form .input-help {
        margin: 0.75rem 0 0;
        font-size: 0.8rem;
        color: var(--text-muted, #666);
        line-height: 1.5;
      }

      .scan-form .input-help code {
        background: var(--bg-secondary, #1e1e1e);
        padding: 2px 6px;
        border-radius: 3px;
      }

      /* Footer */
      .dashboard-footer {
        text-align: center;
        padding: 2rem 1rem;
        font-size: 0.85rem;
        color: var(--text-muted, #666);
        border-top: 1px solid var(--border-color, rgba(255,255,255,0.1));
        margin-top: 2rem;
      }

      .dashboard-footer a {
        color: var(--accent-primary, #00ff41);
        text-decoration: none;
      }

      /* Light mode overrides */
      body.white-theme .dashboard-card {
        background: #fff;
        border-color: #e0e0e0;
        box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      }

      body.white-theme .scan-form .url-input {
        background: #fff;
        border-color: #d0d0d0;
        color: #1a1a1a;
      }

      body.white-theme .scan-form .url-input:focus {
        border-color: #00994d;
        box-shadow: 0 0 0 3px rgba(0,153,77,0.15);
      }

      body.white-theme .scan-form .scan-button {
        background: #00994d;
        color: #fff;
      }

      body.white-theme .scan-form .scan-button:hover {
        background: #007a3d;
      }

      /* Light mode: Account status card */
      body.white-theme #accountStatusCard {
        background: linear-gradient(135deg, #f0fff4, #ecfdf5);
        border-color: rgba(0, 153, 77, 0.2);
      }
      
      body.white-theme #planBadge {
        background: rgba(0, 153, 77, 0.1) !important;
        color: #00994d !important;
        border-color: rgba(0, 153, 77, 0.3) !important;
      }
      
      body.white-theme #scansUsed,
      body.white-theme #reportsGenerated,
      body.white-theme #scansRemaining {
        color: #1a1a1a !important;
      }
      
      body.white-theme #usageBar {
        background: linear-gradient(90deg, #00994d, #22c55e) !important;
      }

      /* Responsive category grid */
      @media (max-width: 700px) {
        .dashboard-main {
          padding: 1.5rem 1rem 3rem;
        }
        .dashboard-card {
          padding: 1.25rem;
        }
        .scan-form .input-group {
          flex-direction: column;
        }
        .scan-form .scan-button {
          width: 100%;
        }
      }
    </style>

    <!-- Internationalization (i18n) Support -->
    <script src="/i18n.js"></script>
    <script src="/language-switcher.js"></script>

    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "Site Mechanic Dashboard",
      "url": "https://sitemechanic.io/dashboard.html",
      "description": "Unified website inspection dashboard. Identify issues across SEO, performance, accessibility, and security. Prioritized fixes and actionable recommendations.",
      "applicationCategory": "DeveloperApplication",
      "operatingSystem": "Web Browser",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "featureList": [
        "SEO Issue Detection",
        "Performance Diagnostics",
        "Accessibility Inspection",
        "Security Vulnerability Scan",
        "Typography Issues",
        "Core Web Vitals",
        "Mobile Compatibility",
        "Prioritized Fix Recommendations"
      ]
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https://fontscanner.app/"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Dashboard",
          "item": "https://fontscanner.app/dashboard.html"
        }
      ]
    }
    </script>
  </head>
  <body data-page="dashboard">
    <!-- Navigation Bar with Unified Header (rendered by nav-template.js) -->
    <div id="nav-placeholder"></div>
    
    <main class="page-shell">
      <!-- Breadcrumb -->
      <nav class="breadcrumb" aria-label="Breadcrumb">
        <a href="/dashboard.html">Home</a>
        <span class="breadcrumb-sep">›</span>
        <span aria-current="page">Dashboard</span>
      </nav>
      
      <!-- Page Header -->
      <header class="page-header">
        <h1 class="page-header__title">Dashboard</h1>
        <p class="page-header__subtitle">Analyze any website for performance, SEO, accessibility, and security issues.</p>
      </header>



      <!-- Scan a Site Card -->
      <section class="card">
        <h2 class="card__title">Scan a site</h2>
        <div class="form-row">
          <label for="dashboardUrlInput" class="form-row__label">Website URL</label>
          <div class="form-row__group">
            <input
              type="url"
              id="dashboardUrlInput"
              class="input"
              placeholder="https://example.com"
              aria-label="Enter website URL to audit"
              aria-describedby="urlHelp"
              required
              aria-required="true"
            />
            <button id="dashboardAnalyzeButton" type="button" class="btn btn-primary" aria-label="Run audit on entered URL">
              Run audit
            </button>
          </div>
          <p id="urlHelp" class="helper-text">
            <strong>Note:</strong> Some sites block automated scans. Try your own sites or <code>example.com</code>.
          </p>
        </div>
      </section>

      <!-- Results Container (appears after scan) -->
      <section id="dashboardResults" class="card" style="display: none;">
        <!-- Results will be dynamically inserted here -->
      </section>

      <!-- FAQ (below Scan a site) -->
      <section class="card" aria-label="Frequently asked questions">
        <div style="display: flex; align-items: baseline; justify-content: space-between; gap: 1rem; flex-wrap: wrap;">
          <h2 class="card__title" style="margin: 0;">FAQ</h2>
          <a href="/faq.html" class="link" style="font-weight: 700;">View all FAQs</a>
        </div>

        <div class="faq-group" style="margin-top: 0.75rem;">
          <h3 class="faq-group__title">Common questions</h3>

          <details class="faq-item">
            <summary>
              <span class="faq-item__q">
                <span class="faq-item__tag">Basics</span>
                <span>What is Site Mechanic?</span>
              </span>
              <span class="faq-item__chev" aria-hidden="true">›</span>
            </summary>
            <div class="faq-item__a">Site Mechanic is a set of website diagnostics modules (Speed & UX, SEO, Accessibility, Security, Fonts &amp; Design, Hosting, and more). Paste a URL, run a scan, and get prioritized issues plus next-step recommendations.</div>
          </details>

          <details class="faq-item">
            <summary>
              <span class="faq-item__q">
                <span class="faq-item__tag">Basics</span>
                <span>Do I need an account to run scans?</span>
              </span>
              <span class="faq-item__chev" aria-hidden="true">›</span>
            </summary>
            <div class="faq-item__a">No. Most scans can be run without signing in. If you choose a paid report/export, you may be prompted to sign in or purchase credits depending on the tool.</div>
          </details>

          <details class="faq-item">
            <summary>
              <span class="faq-item__q">
                <span class="faq-item__tag">Basics</span>
                <span>How long do scans take?</span>
              </span>
              <span class="faq-item__chev" aria-hidden="true">›</span>
            </summary>
            <div class="faq-item__a">Quick scans are typically under a minute; Lighthouse audits can take a few minutes. If a site is slow or blocks automation, scans can take longer or fail.</div>
          </details>

          <details class="faq-item">
            <summary>
              <span class="faq-item__q">
                <span class="faq-item__tag">Billing</span>
                <span>What is a paid report?</span>
              </span>
              <span class="faq-item__chev" aria-hidden="true">›</span>
            </summary>
            <div class="faq-item__a">A paid report is an export/share outcome for a specific scan, such as PDF export, share links, downloadable data, or extended fix guidance. You can usually run the scan for free and then decide whether to purchase the report.</div>
          </details>

          <details class="faq-item">
            <summary>
              <span class="faq-item__q">
                <span class="faq-item__tag">Billing</span>
                <span>How do credits work?</span>
              </span>
              <span class="faq-item__chev" aria-hidden="true">›</span>
            </summary>
            <div class="faq-item__a">Credits unlock paid reports for individual scans. When a report is locked, you’ll see options to buy a single report or buy a credit pack. If you already have credits, you can unlock with 1 credit.</div>
          </details>

          <details class="faq-item">
            <summary>
              <span class="faq-item__q">
                <span class="faq-item__tag">Help</span>
                <span>The scan is stuck. What should I do?</span>
              </span>
              <span class="faq-item__chev" aria-hidden="true">›</span>
            </summary>
            <div class="faq-item__a">Try a simpler URL (homepage vs. deep route) and re-run. If the issue persists, email <a href="mailto:peter@sitemechanic.io">peter@sitemechanic.io</a> with the URL and module name so we can reproduce.</div>
          </details>

          <p class="faq-meta" style="margin-bottom: 0;">More answers on the <a href="/faq.html">FAQ page</a>.</p>
        </div>
      </section>

      <!-- Contact (below FAQ) -->
      <section class="card" aria-label="Contact support">
        <h2 class="card__title" style="margin-bottom: 0.5rem;">Contact</h2>
        <p class="helper-text" style="margin-top: 0;">Send a message to support. Include the URL you scanned if it helps.</p>

        <form id="dashboardContactForm" class="form-row" autocomplete="on">
          <div class="form-row" style="margin-top: 0.75rem;">
            <label for="contactName" class="form-row__label">Name (optional)</label>
            <input id="contactName" name="name" class="input" type="text" placeholder="Your name" maxlength="200" />
          </div>

          <div class="form-row" style="margin-top: 0.75rem;">
            <label for="contactEmail" class="form-row__label">Email</label>
            <input id="contactEmail" name="email" class="input" type="email" placeholder="you@company.com" required maxlength="320" />
          </div>

          <div class="form-row" style="margin-top: 0.75rem;">
            <label for="contactUrl" class="form-row__label">Website URL (optional)</label>
            <input id="contactUrl" name="url" class="input" type="url" placeholder="https://example.com" maxlength="2000" />
          </div>

          <div class="form-row" style="margin-top: 0.75rem;">
            <label for="contactMessage" class="form-row__label">Message</label>
            <textarea id="contactMessage" name="message" class="input" rows="5" placeholder="What can we help with?" required maxlength="5000" style="resize: vertical;"></textarea>
          </div>

          <!-- Honeypot anti-spam field (hidden) -->
          <input type="text" name="website" tabindex="-1" autocomplete="off" style="position:absolute; left:-10000px; top:auto; width:1px; height:1px; overflow:hidden;" aria-hidden="true" />

          <div style="display: flex; gap: 0.75rem; align-items: center; margin-top: 1rem; flex-wrap: wrap;">
            <button id="contactSubmitButton" type="submit" class="btn btn-primary">Send message</button>
            <div id="contactFormStatus" class="helper-text" role="status" aria-live="polite" style="margin: 0;"></div>
          </div>
        </form>
      </section>

      <!-- Unified Loading Container -->
      <div id="loadingContainer" class="loading-container" style="display: none;">
        <div class="loading-content">
          <div class="loading-icon">
            <div class="terminal-cursor">▋</div>
          </div>
          <h2 class="loading-title">Running audit...</h2>
          <div class="loading-steps">
            <div class="loading-step" data-step="init">
              <span class="step-icon">●</span>
              <span class="step-text">1. Connecting to site...</span>
            </div>
            <div class="loading-step" data-step="seo">
              <span class="step-icon">●</span>
              <span class="step-text">2. Analyzing SEO...</span>
            </div>
            <div class="loading-step" data-step="performance">
              <span class="step-icon">●</span>
              <span class="step-text">3. Checking performance...</span>
            </div>
            <div class="loading-step" data-step="accessibility">
              <span class="step-icon">●</span>
              <span class="step-text">4. Auditing accessibility...</span>
            </div>
            <div class="loading-step" data-step="security">
              <span class="step-icon">●</span>
              <span class="step-text">5. Scanning security...</span>
            </div>
            <div class="loading-step" data-step="compile">
              <span class="step-icon">●</span>
              <span class="step-text">6. Compiling results...</span>
            </div>
          </div>
          <div class="loading-progress">
            <div style="display: flex; align-items: center; gap: 1rem;">
              <div class="progress-bar" style="flex: 1;">
                <div class="progress-fill" id="progressFill"></div>
              </div>
              <span id="progressPercent" style="font-size: 1.2rem; font-weight: bold; color: var(--accent-primary, #00ff41); min-width: 50px; text-align: right;">0%</span>
            </div>
            <div class="progress-text">
              <span id="progressTime">Estimated time: 30-60s</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Error Message -->
      <div id="errorMessage" class="error-message" style="display: none;"></div>
    </main>

    <!-- Shared JavaScript -->
    <script src="/theme-controls.js"></script>
    <script src="/theme-fixer.js"></script>
    <script src="/pro-utils.js"></script>
    <script src="/scan-context.js"></script>
    <script src="/nav-template.js"></script>
    <script src="/analyzer-loader.js"></script>

    <!-- ASCII Background Animation -->

    <!-- PDF Export Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="/pdf-export-utility.js"></script>
    <script src="/pdf-export-integration.js"></script>

    <!-- Report UI Components -->
    <script src="/js/report-ui.js"></script>
    <script src="/js/components/ReportContainer.js"></script>
    <script src="/js/components/Modal.js"></script>
    <script src="/js/components/ScreenshotLightbox.js"></script>
    <script src="/js/components/ProReportBlock.js"></script>
    <script src="/js/components/PricingModal.js"></script>

    <!-- Dashboard Script -->
    <script src="/dashboard-script.js?v=20260114a"></script>
  </body>
</html>
