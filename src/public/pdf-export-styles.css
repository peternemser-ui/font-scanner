/**
 * PDF Export Styles
 * Print-friendly styles for PDF generation
 * Applied when content is in PDF export mode
 */

/* ===================================
   PDF Export Mode Styles
   Professional, clean design
   =================================== */

.pdf-export-mode {
  background: #ffffff !important;
  color: #1a1a1a !important;
  width: 100% !important;
  max-width: 100% !important;
  padding: 18px 20px !important;
  margin: 0 !important;
  /* Modern monospace font stack for cleaner, more technical appearance */
  font-family: 'SF Mono', 'Fira Code', 'JetBrains Mono', 'Cascadia Code', 'Consolas', 'Monaco', 'Courier New', monospace !important;
  font-size: 11px !important;
  line-height: 1.5;
  letter-spacing: -0.01em;
}

/* Ensure all sections are visible and properly formatted */
.pdf-export-mode * {
  box-sizing: border-box;
}

/* Force expand all collapsible content */
.pdf-export-mode .accordion__content,
.pdf-export-mode .collapsible__content,
.pdf-export-mode .expandable__content,
.pdf-export-mode [data-accordion-content],
.pdf-export-mode details > *:not(summary) {
  display: block !important;
  max-height: none !important;
  overflow: visible !important;
  opacity: 1 !important;
  visibility: visible !important;
}

.pdf-export-mode details {
  border: 1px solid #e5e7eb;
  border-radius: 4px;
  padding: 8px 10px;
  margin-bottom: 8px;
  background: #f9fafb;
  page-break-inside: avoid;
}

.pdf-export-mode details summary {
  font-weight: 700;
  font-size: 10px !important;
  color: #1f2937;
  margin-bottom: 6px;
  cursor: default;
  list-style: none;
  font-family: 'SF Mono', 'Fira Code', 'JetBrains Mono', 'Consolas', monospace !important;
  text-transform: uppercase;
  letter-spacing: 0.02em;
}

.pdf-export-mode details summary::-webkit-details-marker {
  display: none;
}

/* Report header - compact monospace styling */
.pdf-export-mode .report-header {
  background: #f5f5f5 !important;
  border: 1px solid #e0e0e0 !important;
  border-radius: 4px;
  padding: 10px 14px !important;
  margin-bottom: 12px !important;
  page-break-inside: avoid;
  page-break-after: avoid;
  text-align: left !important;
}

.pdf-export-mode .report-header h1,
.pdf-export-mode .report-header h2 {
  color: #000000 !important;
  font-size: 14px !important;
  margin: 0 0 6px 0 !important;
  font-weight: 700;
  border-bottom: none !important;
  text-align: left !important;
  font-family: 'SF Mono', 'Fira Code', 'JetBrains Mono', 'Consolas', monospace !important;
  text-transform: uppercase;
  letter-spacing: 0.02em;
}

.pdf-export-mode .report-header p {
  color: #4b5563 !important;
  font-size: 9px !important;
  margin: 3px 0 !important;
  line-height: 1.4;
  font-family: 'SF Mono', 'Fira Code', 'JetBrains Mono', 'Consolas', monospace !important;
}

.pdf-export-mode .report-header strong {
  color: #000000 !important;
  font-weight: 700;
}

/* Hide interactive UI elements */
/* NOTE: ReportAccordion headers are <button> elements; keep them visible in PDFs. */
.pdf-export-mode button:not(.score-badge):not(.report-accordion__header),
.pdf-export-mode .toggle-button,
.pdf-export-mode .expand-button,
.pdf-export-mode [data-toggle],
.pdf-export-mode nav,
.pdf-export-mode .navigation,
.pdf-export-mode .tabs,
.pdf-export-mode .modal,
.pdf-export-mode .tooltip,
.pdf-export-mode .dropdown,
.pdf-export-mode input[type="text"],
.pdf-export-mode input[type="url"],
.pdf-export-mode textarea,
.pdf-export-mode select,
.pdf-export-mode .copy-button,
.pdf-export-mode .share-button {
  display: none !important;
}

/* Make ReportAccordion headers look like section headers in PDF - compact monospace */
.pdf-export-mode .report-accordion__header {
  display: flex !important;
  width: 100% !important;
  border: 1px solid #e5e7eb !important;
  background: #f5f5f5 !important;
  color: #111827 !important;
  padding: 8px 12px !important;
  border-radius: 4px !important;
  cursor: default !important;
  justify-content: space-between !important;
  align-items: center !important;
  page-break-after: avoid;
  box-shadow: none !important;
  font-family: 'SF Mono', 'Fira Code', 'JetBrains Mono', 'Consolas', monospace !important;
  font-size: 10px !important;
  text-transform: uppercase;
  letter-spacing: 0.02em;
}

.pdf-export-mode .report-accordion__chevron {
  display: none !important;
}

/* Improve readability for text content - modern monospace styling */
.pdf-export-mode h1,
.pdf-export-mode h2,
.pdf-export-mode h3,
.pdf-export-mode h4,
.pdf-export-mode h5,
.pdf-export-mode h6 {
  color: #000000 !important;
  page-break-after: avoid;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  font-weight: 700;
  letter-spacing: -0.02em;
  text-align: left !important;
  font-family: 'SF Mono', 'Fira Code', 'JetBrains Mono', 'Consolas', monospace !important;
}

.pdf-export-mode h1 {
  font-size: 18px !important;
  border-bottom: 2px solid #dd3838;
  padding-bottom: 8px;
  margin-bottom: 0.8em;
  text-transform: uppercase;
  letter-spacing: 0.02em;
}

.pdf-export-mode h2 {
  font-size: 14px !important;
  border-bottom: 1px solid #e0e0e0;
  padding-bottom: 6px;
  margin-bottom: 0.6em;
  text-transform: uppercase;
  letter-spacing: 0.01em;
}

.pdf-export-mode h3 {
  font-size: 12px !important;
  color: #333333 !important;
  text-transform: uppercase;
}

/* Screenshot container - limit height to fit on a page */
.pdf-export-mode .screenshot-container,
.pdf-export-mode .page-screenshot,
.pdf-export-mode .report-shell__screenshot-wrapper {
  page-break-inside: avoid !important;
  max-height: 600px !important;
  overflow: hidden !important;
  margin-bottom: 20px;
}

.pdf-export-mode .screenshot-container img,
.pdf-export-mode .page-screenshot img,
.pdf-export-mode .report-shell__screenshot {
  max-width: 100% !important;
  max-height: 550px !important;
  width: auto !important;
  height: auto !important;
  object-fit: contain !important;
  object-position: top left !important;
  page-break-inside: avoid !important;
}

.pdf-export-mode p,
.pdf-export-mode li {
  color: #374151 !important;
  line-height: 1.5;
  font-size: 10px !important;
  font-family: 'SF Mono', 'Fira Code', 'JetBrains Mono', 'Consolas', monospace !important;
}

/* Improve table styling for PDF - modern design */
.pdf-export-mode table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  margin: 20px 0;
  page-break-inside: avoid;
  border: 1px solid #d0d0d0;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06) !important;
}

.pdf-export-mode th,
.pdf-export-mode td {
  padding: 8px 12px;
  text-align: left;
  border-bottom: 1px solid #e8e8e8;
  color: #1a1a1a !important;
  background: #ffffff !important;
  font-family: 'SF Mono', 'Fira Code', 'JetBrains Mono', 'Consolas', monospace !important;
}

.pdf-export-mode th {
  background: #f5f5f5 !important;
  font-weight: 700;
  font-size: 9px !important;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: #000000 !important;
  border-bottom: 2px solid #d0d0d0;
}

.pdf-export-mode td {
  font-size: 9px !important;
  line-height: 1.4;
}

.pdf-export-mode tr:last-child td {
  border-bottom: none;
}

/* Score badges - modern, compact monospace design */
.pdf-export-mode .score-badge,
.pdf-export-mode .metric-score,
.pdf-export-mode .grade {
  display: inline-block;
  padding: 4px 10px;
  border-radius: 4px;
  font-weight: 700;
  font-size: 12px !important;
  min-width: 40px;
  text-align: center;
  letter-spacing: 0;
  font-family: 'SF Mono', 'Fira Code', 'JetBrains Mono', 'Consolas', monospace !important;
  box-shadow: none !important;
}

.pdf-export-mode .score-badge.good,
.pdf-export-mode .score-good {
  background: linear-gradient(135deg, #d4f4dd 0%, #c1f0cc 100%) !important;
  color: #0d5e2e !important;
  border: 2px solid #16a34a;
}

.pdf-export-mode .score-badge.needs-improvement,
.pdf-export-mode .score-medium {
  background: linear-gradient(135deg, #fef4d4 0%, #fdecc8 100%) !important;
  color: #854d0e !important;
  border: 2px solid #f59e0b;
}

.pdf-export-mode .score-badge.poor,
.pdf-export-mode .score-bad {
  background: linear-gradient(135deg, #fee5e5 0%, #fdd8d8 100%) !important;
  color: #991b1b !important;
  border: 2px solid #dc2626;
}

/* Cards and sections - compact monospace design */
.pdf-export-mode .card,
.pdf-export-mode .section,
.pdf-export-mode .panel {
  background: #fafafa !important;
  border: 1px solid #e0e0e0 !important;
  border-radius: 4px;
  padding: 12px 16px;
  margin-bottom: 12px;
  page-break-inside: avoid;
  box-shadow: none !important;
}

.pdf-export-mode .card__header,
.pdf-export-mode .section__header {
  font-size: 11px !important;
  font-weight: 700;
  color: #000000 !important;
  margin-bottom: 10px;
  padding-bottom: 6px;
  border-bottom: 1px solid #d0d0d0;
  letter-spacing: 0.02em;
  text-transform: uppercase;
  font-family: 'SF Mono', 'Fira Code', 'JetBrains Mono', 'Consolas', monospace !important;
}

.pdf-export-mode .card__body,
.pdf-export-mode .section__content {
  display: block !important;
  max-height: none !important;
  overflow: visible !important;
}

/* Metric displays - compact monospace style */
.pdf-export-mode .metric {
  display: inline-block;
  margin: 6px 10px 6px 0;
  padding: 10px 14px;
  background: #f8f8f8 !important;
  border: 1px solid #e0e0e0;
  border-radius: 4px;
  min-width: 120px;
  box-shadow: none !important;
}

.pdf-export-mode .metric__label {
  font-size: 8px !important;
  color: #666666 !important;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 4px;
  font-family: 'SF Mono', 'Fira Code', 'JetBrains Mono', 'Consolas', monospace !important;
}

.pdf-export-mode .metric__value {
  font-size: 16px !important;
  font-weight: 700;
  color: #000000 !important;
  letter-spacing: -0.01em;
  font-family: 'SF Mono', 'Fira Code', 'JetBrains Mono', 'Consolas', monospace !important;
}

/* Issues and recommendations - compact monospace */
.pdf-export-mode .issue,
.pdf-export-mode .recommendation {
  padding: 8px 10px;
  margin-bottom: 8px;
  border-left: 3px solid #6b7280;
  background: #f9fafb !important;
  page-break-inside: avoid;
}

.pdf-export-mode .issue.critical {
  border-left-color: #dc2626;
  background: #fef2f2 !important;
}

.pdf-export-mode .issue.high {
  border-left-color: #f59e0b;
  background: #fffbeb !important;
}

.pdf-export-mode .issue.medium {
  border-left-color: #3b82f6;
  background: #eff6ff !important;
}

.pdf-export-mode .issue.low {
  border-left-color: #10b981;
  background: #f0fdf4 !important;
}

.pdf-export-mode .issue__title,
.pdf-export-mode .recommendation__title {
  font-weight: 700;
  color: #1f2937 !important;
  font-size: 10px !important;
  margin-bottom: 4px;
  font-family: 'SF Mono', 'Fira Code', 'JetBrains Mono', 'Consolas', monospace !important;
}

.pdf-export-mode .issue__description,
.pdf-export-mode .recommendation__description {
  color: #4b5563 !important;
  font-size: 9px !important;
  line-height: 1.4;
  font-family: 'SF Mono', 'Fira Code', 'JetBrains Mono', 'Consolas', monospace !important;
}

/* Lists */
.pdf-export-mode ul,
.pdf-export-mode ol {
  margin: 12px 0;
  padding-left: 24px;
}

.pdf-export-mode li {
  margin-bottom: 6px;
}

/* Code blocks - modern monospace */
.pdf-export-mode pre,
.pdf-export-mode code {
  background: #f3f4f6 !important;
  border: 1px solid #e5e7eb;
  border-radius: 3px;
  padding: 2px 5px;
  font-family: 'SF Mono', 'Fira Code', 'JetBrains Mono', 'Consolas', monospace !important;
  font-size: 9px !important;
  color: #1f2937 !important;
  page-break-inside: avoid;
}

.pdf-export-mode pre {
  padding: 8px 10px;
  overflow-x: auto;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Status indicators */
.pdf-export-mode .status-indicator {
  display: inline-block;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  margin-right: 6px;
}

.pdf-export-mode .status-indicator.pass {
  background: #10b981 !important;
}

.pdf-export-mode .status-indicator.warn {
  background: #f59e0b !important;
}

.pdf-export-mode .status-indicator.fail {
  background: #ef4444 !important;
}

/* Progress bars */
.pdf-export-mode .progress-bar {
  width: 100%;
  height: 24px;
  background: #e5e7eb !important;
  border-radius: 4px;
  overflow: hidden;
  position: relative;
}

.pdf-export-mode .progress-bar__fill {
  height: 100%;
  background: #10b981 !important;
  transition: none;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #ffffff !important;
  font-weight: 600;
  font-size: 12px !important;
}

/* Ensure proper page breaks */
.pdf-export-mode .page-break {
  page-break-after: always;
}

.pdf-export-mode .no-break {
  page-break-inside: avoid;
}

/* Fix for any remaining dark mode elements */
.pdf-export-mode [class*="dark"],
.pdf-export-mode [style*="background: rgb(10, 10, 10)"],
.pdf-export-mode [style*="background: #0a0a0a"],
.pdf-export-mode [style*="background: black"] {
  background: #ffffff !important;
  color: #1f2937 !important;
}

/* Core Web Vitals specific styling */
.pdf-export-mode .cwv-metrics {
  display: block !important;
  width: 100% !important;
  margin: 16px 0 !important;
  opacity: 1 !important;
  visibility: visible !important;
}

.pdf-export-mode .cwv-metric {
  display: block !important;
  margin: 8px 0 !important;
  padding: 10px 12px !important;
  background: #f9fafb !important;
  border: 1px solid #e0e0e0 !important;
  border-radius: 4px;
  page-break-inside: avoid;
  width: 100% !important;
  box-sizing: border-box !important;
  opacity: 1 !important;
  visibility: visible !important;
}

.pdf-export-mode .cwv-metric * {
  opacity: 1 !important;
  visibility: visible !important;
}

.pdf-export-mode .cwv-metric-header {
  display: block !important;
  margin-bottom: 10px !important;
  overflow: visible !important;
  width: 100% !important;
}

.pdf-export-mode .cwv-metric-header::after {
  content: "";
  display: table;
  clear: both;
}

.pdf-export-mode .cwv-metric-name {
  font-size: 9px !important;
  font-weight: 700 !important;
  color: #000000 !important;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  float: left !important;
  display: inline-block !important;
  font-family: 'SF Mono', 'Fira Code', 'JetBrains Mono', 'Consolas', monospace !important;
}

.pdf-export-mode .cwv-metric-value {
  font-size: 18px !important;
  font-weight: 700 !important;
  color: #000000 !important;
  letter-spacing: -0.01em;
  margin: 6px 0 !important;
  display: block !important;
  clear: both !important;
  width: 100% !important;
  font-family: 'SF Mono', 'Fira Code', 'JetBrains Mono', 'Consolas', monospace !important;
}

.pdf-export-mode .cwv-metric-desc {
  font-size: 8px !important;
  color: #6b7280 !important;
  margin: 3px 0 0 0 !important;
  display: block !important;
  line-height: 1.4;
  font-family: 'SF Mono', 'Fira Code', 'JetBrains Mono', 'Consolas', monospace !important;
}

.pdf-export-mode .cwv-metric-badge {
  display: inline-block !important;
  padding: 3px 8px !important;
  border-radius: 3px !important;
  font-size: 8px !important;
  font-weight: 700 !important;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  float: right !important;
  font-family: 'SF Mono', 'Fira Code', 'JetBrains Mono', 'Consolas', monospace !important;
}

.pdf-export-mode .cwv-metric-badge.good {
  background: #d1fae5 !important;
  color: #065f46 !important;
  border: 1px solid #10b981 !important;
}

.pdf-export-mode .cwv-metric-badge.needs-improvement {
  background: #fef3c7 !important;
  color: #92400e !important;
  border: 1px solid #f59e0b !important;
}

.pdf-export-mode .cwv-metric-badge.poor {
  background: #fee2e2 !important;
  color: #991b1b !important;
  border: 1px solid #ef4444 !important;
}

/* Legacy CWV metric styles (double underscore) */
.pdf-export-mode .cwv-metric__name {
  font-size: 12px !important;
  font-weight: 600;
  color: #000000 !important;
  text-transform: uppercase;
  margin-bottom: 8px;
}

.pdf-export-mode .cwv-metric__value {
  font-size: 32px !important;
  font-weight: 700;
  color: #000000 !important;
  margin-bottom: 4px;
}

.pdf-export-mode .cwv-metric__rating {
  font-size: 11px !important;
  font-weight: 600;
  padding: 4px 8px;
  border-radius: 4px;
  display: inline-block;
}

/* Device panels for CWV */
.pdf-export-mode .device-panel {
  background: #fafafa !important;
  border: 1px solid #d0d0d0 !important;
  border-radius: 8px;
  padding: 16px !important;
  page-break-inside: avoid;
}

.pdf-export-mode .device-panel h3 {
  color: #000000 !important;
  font-size: 16px !important;
  font-weight: 700;
  margin-bottom: 12px !important;
  text-align: center;
}

/* Metric explainers */
.pdf-export-mode .metric-explainer {
  background: #f5f5f5 !important;
  padding: 12px !important;
  border-radius: 6px;
  border-left: 4px solid #3b82f6 !important;
  margin-bottom: 12px !important;
  page-break-inside: avoid;
}

.pdf-export-mode .metric-explainer strong {
  color: #000000 !important;
  font-size: 14px !important;
  display: block;
  margin-bottom: 6px;
}

.pdf-export-mode .metric-explainer p {
  color: #4b5563 !important;
  font-size: 12px !important;
  line-height: 1.5;
  margin: 0 !important;
}

/* Score rings and circles */
.pdf-export-mode .score-ring {
  max-width: 200px !important;
  height: auto !important;
  margin: 0 auto;
  display: block;
}

/* Don't apply generic SVG rules to donut charts */
.pdf-export-mode svg:not(.report-shell__donut) {
  max-width: 200px !important;
  height: auto !important;
  margin: 0 auto;
  display: block;
}

.pdf-export-mode .score-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 16px;
  margin: 20px 0;
}

.pdf-export-mode .score-card {
  background: #fafafa !important;
  border: 1px solid #d0d0d0 !important;
  border-radius: 8px;
  padding: 16px;
  text-align: center;
  page-break-inside: avoid;
}

/* Side-by-side results */
.pdf-export-mode .side-by-side-results {
  display: block !important;
}

.pdf-export-mode .device-column {
  background: #fafafa !important;
  border: 1px solid #d0d0d0 !important;
  border-radius: 8px;
  padding: 16px !important;
  margin-bottom: 20px;
  page-break-inside: avoid;
}

.pdf-export-mode .device-column h2 {
  color: #000000 !important;
  font-size: 18px !important;
  margin-bottom: 16px !important;
  text-align: center;
}

/* Comparison tables */
.pdf-export-mode .comparison-row {
  display: flex;
  gap: 16px;
  margin-bottom: 16px;
  page-break-inside: avoid;
}

.pdf-export-mode .comparison-item {
  flex: 1;
  padding: 12px;
  border: 1px solid #e5e7eb;
  border-radius: 6px;
  background: #f9fafb !important;
}

.pdf-export-mode .comparison-item__label {
  font-size: 11px !important;
  font-weight: 600;
  color: #6b7280 !important;
  margin-bottom: 4px;
}

.pdf-export-mode .comparison-item__value {
  font-size: 16px !important;
  font-weight: 700;
  color: #1f2937 !important;
}

/* ===================================
   Standard Print Media Query
   =================================== */

/* Page setup - push native browser header/footer off page */
@page {
  size: A4;
  margin: 0mm;
}

/* Custom print header - visible only when printing */
.print-header {
  display: none !important;
}

/* Custom print footer - visible only when printing */
.print-footer {
  display: none !important;
}

@media print {
  html,
  body {
    margin: 0 !important;
    padding: 0 !important;
    width: 100% !important;
    max-width: 100% !important;
  }
  /* Show custom print header */
  .print-header {
    display: flex !important;
    justify-content: space-between;
    align-items: center;
    padding: 4px 0 8px 0;
    margin-bottom: 12px;
    border-bottom: 1px solid #ccc;
    font-family: 'Courier New', Courier, monospace !important;
    font-size: 9px !important;
    color: #666 !important;
    page-break-after: avoid;
  }
  
  .print-header__left,
  .print-header__right {
    font-family: 'Courier New', Courier, monospace !important;
    font-size: 9px !important;
    color: #666 !important;
  }
  
  /* Show custom print footer */
  .print-footer {
    display: flex !important;
    justify-content: space-between;
    align-items: center;
    padding: 8px 0 4px 0;
    margin-top: 20px;
    border-top: 1px solid #ccc;
    font-family: 'Courier New', Courier, monospace !important;
    font-size: 9px !important;
    color: #666 !important;
    page-break-before: avoid;
  }
  
  .print-footer__left,
  .print-footer__center,
  .print-footer__right {
    font-family: 'Courier New', Courier, monospace !important;
    font-size: 9px !important;
    color: #666 !important;
  }
  
  .print-footer__center {
    text-align: center;
  }
  
  /* ============================================
     PRINT-FRIENDLY DESIGN PRESERVATION
     Keep visual design but adapt for paper
     ============================================ */
  
  /* Base: Light background, good contrast */
  body {
    background: #f8fafc !important;
    color: #1f2937 !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  /* Hide interactive UI elements only */
  button:not(.print-keep),
  nav,
  .navigation,
  .tabs,
  .modal,
  input,
  textarea,
  select {
    display: none !important;
  }

  /* Hide Dashboard header and Scan a site sections for print */
  .page-header,
  .scan-card-enhanced,
  .breadcrumb,
  .faq-group,
  [aria-label="Frequently asked questions"],
  .take-action-section,
  .pro-report-block {
    display: none !important;
  }

  /* Use red logo for print - hide the blue/dark logo */
  .app-logo-dark {
    display: none !important;
  }
  
  /* Show the red/light logo for print */
  .app-logo-light {
    display: inline-block !important;
  }

  /* Keep the print button visible but hidden in print */
  [onclick="window.print()"] {
    display: none !important;
  }
  
  /* ============================================
     REPORT CONTAINER - PRESERVED DESIGN
     ============================================ */
  
  .report-scope,
  .report-shell {
    background: #ffffff !important;
    border: 1px solid #e5e7eb !important;
    border-radius: 8px !important;
    padding: 16px !important;
    margin-bottom: 12px !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  /* Report Header */
  .report-header {
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%) !important;
    border-bottom: 2px solid #e11d48 !important;
    padding: 16px !important;
    margin-bottom: 16px !important;
    border-radius: 8px 8px 0 0 !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  .report-header__title {
    color: #1f2937 !important;
    font-size: 20px !important;
    font-weight: 700 !important;
    margin: 0 0 8px 0 !important;
  }
  
  .report-header__badge {
    display: inline-block !important;
    background: #fef2f2 !important;
    color: #e11d48 !important;
    border: 1px solid #fecaca !important;
    padding: 4px 12px !important;
    border-radius: 999px !important;
    font-size: 11px !important;
    font-weight: 600 !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  .report-header__meta {
    color: #6b7280 !important;
    font-size: 12px !important;
  }
  
  /* ============================================
     SUMMARY CARDS WITH SCORE DONUTS
     ============================================ */
  
  .report-shell__summary {
    display: grid !important;
    grid-template-columns: repeat(4, minmax(0, 1fr)) !important;
    gap: 12px !important;
    margin: 16px 0 20px !important;
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
  }
  
  .report-shell__summary-card {
    background: #ffffff !important;
    border: 2px solid #e5e7eb !important;
    border-radius: 12px !important;
    padding: 14px 10px !important;
    text-align: center !important;
    box-shadow: none !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    break-inside: avoid !important;
    box-sizing: border-box !important;
  }
  
  .report-shell__summary-label {
    color: #111827 !important;
    font-weight: 700 !important;
    font-size: 11px !important;
    text-transform: uppercase !important;
    letter-spacing: 0.5px !important;
    margin-bottom: 10px !important;
  }
  
  /* SVG Donut Charts - Full Print Enhancement */
  .report-shell__donut {
    width: 100px !important;
    height: 100px !important;
    margin: 0 auto 4px !important;
    display: block !important;
    overflow: visible !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  /* Force SVG to show with proper aspect ratio */
  .report-shell__donut svg,
  svg.report-shell__donut {
    width: 100px !important;
    height: 100px !important;
    display: block !important;
    visibility: visible !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    /* Preserve viewBox aspect ratio */
    aspect-ratio: 1 / 1 !important;
  }
  
  /* Background track circle - gray ring */
  .report-shell__donut circle[stroke="#e5e7eb"] {
    stroke: #d1d5db !important;
    stroke-width: 10 !important;
    fill: none !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  /* Progress circle - colored arc */
  .report-shell__donut circle[stroke="#22c55e"],
  .report-shell__donut circle[stroke="#f59e0b"],
  .report-shell__donut circle[stroke="#ef4444"] {
    stroke-width: 10 !important;
    fill: none !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  /* Score text inside donut */
  .report-shell__donut text {
    font-size: 32px !important;
    font-weight: 700 !important;
    font-family: system-ui, -apple-system, sans-serif !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  /* Score text color preservation */
  .report-shell__donut text[fill="#22c55e"] {
    fill: #16a34a !important;
  }
  
  .report-shell__donut text[fill="#f59e0b"] {
    fill: #d97706 !important;
  }
  
  .report-shell__donut text[fill="#ef4444"] {
    fill: #dc2626 !important;
  }
  
  .report-shell__donut-grade {
    font-size: 12px !important;
    font-weight: 700 !important;
    margin-top: 2px !important;
    letter-spacing: 0.5px !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  /* Grade text color - darker for print legibility */
  .report-shell__donut-grade[style*="color:#22c55e"],
  .report-shell__donut-grade[style*="color: #22c55e"] {
    color: #16a34a !important;
  }
  
  .report-shell__donut-grade[style*="color:#f59e0b"],
  .report-shell__donut-grade[style*="color: #f59e0b"] {
    color: #d97706 !important;
  }
  
  .report-shell__donut-grade[style*="color:#ef4444"],
  .report-shell__donut-grade[style*="color: #ef4444"] {
    color: #dc2626 !important;
  }
  
  /* Preserve score colors inline */
  [style*="color: #22c55e"],
  [style*="color:#22c55e"] {
    color: #22c55e !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  [style*="color: #f59e0b"],
  [style*="color:#f59e0b"] {
    color: #f59e0b !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  [style*="color: #ef4444"],
  [style*="color:#ef4444"] {
    color: #ef4444 !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  /* ============================================
     ACCORDION SECTIONS - CLEAN PRINT STYLE
     ============================================ */
  
  .report-accordion,
  .report-scope .report-accordion {
    background: #ffffff !important;
    border: 1px solid #e5e7eb !important;
    border-radius: 6px !important;
    margin-bottom: 8px !important;
    overflow: visible !important;
    page-break-inside: avoid !important;
  }
  
  .report-accordion__header {
    background: #f9fafb !important;
    color: #1f2937 !important;
    padding: 10px 14px !important;
    font-weight: 600 !important;
    font-size: 13px !important;
    border-bottom: 1px solid #e5e7eb !important;
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
  }
  
  .report-accordion__title {
    color: #1f2937 !important;
  }
  
  /* Score badges in accordion headers */
  .report-accordion__score-badge {
    display: inline-flex !important;
    padding: 2px 10px !important;
    border-radius: 999px !important;
    font-size: 11px !important;
    font-weight: 600 !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  /* Good score (green) */
  .report-accordion__score-badge--good,
  .report-accordion__score-badge[style*="#22c55e"],
  .report-accordion__score-badge[style*="green"] {
    background: #dcfce7 !important;
    color: #166534 !important;
    border: 1px solid #86efac !important;
  }
  
  /* Warning score (orange) */
  .report-accordion__score-badge--warn,
  .report-accordion__score-badge[style*="#f59e0b"],
  .report-accordion__score-badge[style*="orange"] {
    background: #fef3c7 !important;
    color: #92400e !important;
    border: 1px solid #fcd34d !important;
  }
  
  /* Poor score (red) */
  .report-accordion__score-badge--poor,
  .report-accordion__score-badge[style*="#ef4444"],
  .report-accordion__score-badge[style*="red"] {
    background: #fee2e2 !important;
    color: #991b1b !important;
    border: 1px solid #fca5a5 !important;
  }
  
  /* Accordion content - always expanded for print */
  .report-accordion__content,
  .report-accordion__body,
  .report-scope .report-accordion__body,
  [data-accordion-body],
  .report-accordion__body[hidden] {
    display: block !important;
    max-height: none !important;
    overflow: visible !important;
    padding: 12px 14px !important;
    background: #ffffff !important;
    color: #374151 !important;
    font-size: 12px !important;
    line-height: 1.5 !important;
    visibility: visible !important;
    opacity: 1 !important;
  }
  
  /* Override hidden attribute for print */
  [hidden] {
    display: block !important;
    visibility: visible !important;
  }
  
  /* But keep truly hidden UI elements hidden */
  nav[hidden],
  .modal[hidden],
  button[hidden] {
    display: none !important;
  }
  
  /* Hide accordion toggle icons */
  .report-accordion__toggle,
  .report-accordion__chevron {
    display: none !important;
  }

  /* Performance Fixes - force expand all items and tabs */
  .pdf-export-mode .fix-accordion {
    page-break-inside: avoid !important;
  }

  .pdf-export-mode .fix-content {
    max-height: none !important;
    overflow: visible !important;
    display: block !important;
  }

  .pdf-export-mode .fix-content-inner {
    padding: 0 1.25rem 1.25rem 1.25rem !important;
  }

  .pdf-export-mode .fix-tabs {
    display: none !important;
  }

  .pdf-export-mode .fix-tab-content {
    display: block !important;
    opacity: 1 !important;
    visibility: visible !important;
    animation: none !important;
  }

  .pdf-export-mode .code-comparison {
    grid-template-columns: 1fr !important;
    gap: 12px !important;
  }

  .pdf-export-mode .code-block {
    background: #ffffff !important;
    border: 1px solid #e5e7eb !important;
  }

  .pdf-export-mode .code-block-header {
    background: #f9fafb !important;
    border-bottom: 1px solid #e5e7eb !important;
  }

  .pdf-export-mode .code-block-body {
    background: #ffffff !important;
    color: #111827 !important;
    font-size: 11px !important;
    line-height: 1.5 !important;
    overflow: visible !important;
  }

  .pdf-export-mode .code-block pre {
    white-space: pre-wrap !important;
    word-break: break-word !important;
  }
  
  /* ============================================
     OVERRIDE DARK THEME INLINE STYLES FOR PRINT
     ============================================ */
  
  /* Cards with dark backgrounds need light backgrounds for print */
  .report-shell__card,
  [style*="background:#111"],
  [style*="background: #111"],
  [style*="background:#1a1a1a"],
  [style*="background: #1a1a1a"],
  [style*="background:#0a0a0a"],
  [style*="background: #0a0a0a"] {
    background: #f9fafb !important;
    border: 1px solid #e5e7eb !important;
  }
  
  /* Light text on dark -> dark text on light */
  [style*="color:#e5e7eb"],
  [style*="color: #e5e7eb"],
  [style*="color:#d1d5db"],
  [style*="color: #d1d5db"],
  [style*="color:#c7f5d9"],
  [style*="color: #c7f5d9"] {
    color: #374151 !important;
  }
  
  /* Preserve score/indicator colors */
  [style*="color:#00ff41"],
  [style*="color: #00ff41"] {
    color: #16a34a !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  [style*="color:#f59e0b"],
  [style*="color: #f59e0b"] {
    color: #d97706 !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  [style*="color:#ef4444"],
  [style*="color: #ef4444"] {
    color: #dc2626 !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  /* Tip/info boxes */
  [style*="background:rgba(0,255,65"],
  [style*="background: rgba(0,255,65"] {
    background: #f0fdf4 !important;
    border: 1px solid #86efac !important;
  }
  
  /* Progress bars inside accordion content */
  [style*="background:rgba(255,255,255,0.08)"],
  [style*="background: rgba(255,255,255,0.08)"] {
    background: #e5e7eb !important;
  }
  
  /* Colored progress bar fills */
  [style*="background:#00ff41"],
  [style*="background: #00ff41"] {
    background: #22c55e !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  [style*="background:#f59e0b"],
  [style*="background: #f59e0b"] {
    background: #f59e0b !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  [style*="background:#ef4444"],
  [style*="background: #ef4444"] {
    background: #ef4444 !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  /* ============================================
     METRIC BARS AND CHARTS
     ============================================ */
  
  .report-shell__bar-row {
    display: flex !important;
    align-items: center !important;
    gap: 8px !important;
    margin-bottom: 6px !important;
    font-size: 11px !important;
    color: #374151 !important;
  }
  
  .report-shell__bar-label {
    min-width: 80px !important;
    color: #6b7280 !important;
  }
  
  .report-shell__bar-track {
    flex: 1 !important;
    height: 8px !important;
    background: #e5e7eb !important;
    border-radius: 4px !important;
    overflow: hidden !important;
  }
  
  .report-shell__bar-fill {
    height: 100% !important;
    border-radius: 4px !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  /* Preserve bar colors */
  .report-shell__bar-fill[style*="#00ff41"],
  .report-shell__bar-fill[style*="#22c55e"],
  .report-shell__bar-fill[style*="green"] {
    background: #22c55e !important;
  }
  
  .report-shell__bar-fill[style*="#f59e0b"],
  .report-shell__bar-fill[style*="orange"] {
    background: #f59e0b !important;
  }
  
  .report-shell__bar-fill[style*="#ef4444"],
  .report-shell__bar-fill[style*="red"] {
    background: #ef4444 !important;
  }
  
  .report-shell__bar-value {
    min-width: 50px !important;
    text-align: right !important;
    font-weight: 600 !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  /* ============================================
     RISK BANNER
     ============================================ */
  
  .risk-banner,
  [class*="risk-banner"] {
    background: #fef2f2 !important;
    border: 1px solid #fecaca !important;
    border-left: 4px solid #ef4444 !important;
    border-radius: 6px !important;
    padding: 10px 14px !important;
    margin-bottom: 12px !important;
    color: #991b1b !important;
    font-size: 12px !important;
    font-weight: 500 !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  /* Success banner */
  .risk-banner--success,
  [class*="risk-banner"][class*="success"] {
    background: #f0fdf4 !important;
    border-color: #86efac !important;
    border-left-color: #22c55e !important;
    color: #166534 !important;
  }
  
  /* ============================================
     PAGE SCREENSHOT CARD
     ============================================ */
  
  .page-screenshot-card {
    background: #ffffff !important;
    border: 1px solid #e5e7eb !important;
    border-radius: 8px !important;
    padding: 12px !important;
    margin-bottom: 16px !important;
    page-break-inside: avoid !important;
  }
  
  .page-screenshot-card img {
    max-width: 100% !important;
    height: auto !important;
    border: 1px solid #e5e7eb !important;
    border-radius: 4px !important;
  }
  
  /* ============================================
     SUMMARY SECTION
     ============================================ */
  
  .summary-section,
  [class*="summary"] {
    background: #f9fafb !important;
    border: 1px solid #e5e7eb !important;
    border-radius: 6px !important;
    padding: 12px !important;
    margin-top: 16px !important;
  }
  
  .summary-section h2 {
    color: #1f2937 !important;
    font-size: 14px !important;
    font-weight: 600 !important;
    margin: 0 0 8px 0 !important;
  }
  
  /* ============================================
     FREE REPORT INDICATOR
     ============================================ */
  
  .print-free-tier .print-header::after {
    content: 'FREE REPORT';
    display: inline-block;
    margin-left: 12px;
    padding: 2px 8px;
    background: #fef3c7 !important;
    border: 1px solid #f59e0b;
    border-radius: 3px;
    font-family: 'Courier New', Courier, monospace;
    font-size: 8px;
    font-weight: bold;
    color: #92400e;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  /* ============================================
     PRO REPORT INDICATOR
     ============================================ */

  .print-pro-tier .print-header::after {
    content: 'PRO REPORT';
    display: inline-block;
    margin-left: 12px;
    padding: 2px 8px;
    background: linear-gradient(135deg, #10b981 0%, #059669 100%) !important;
    border: 1px solid #059669;
    border-radius: 3px;
    font-family: 'Arial', sans-serif;
    font-size: 8px;
    font-weight: bold;
    color: #ffffff !important;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  /* Pro tier: Show all content unlocked */
  .print-pro-tier .is-locked {
    display: block !important;
    opacity: 1 !important;
    filter: none !important;
  }

  .print-pro-tier .report-shell__lock-overlay {
    display: contents !important;
  }

  .print-pro-tier .report-shell__lock-paywall,
  .print-pro-tier [data-paid-unlock-card],
  .print-pro-tier [data-hide-when-unlocked],
  .print-pro-tier .pro-report-block__unlock-prompt,
  .print-pro-tier .pro-report-block__unlock-buttons {
    display: none !important;
  }

  /* Pro tier: Remove [PRO] markers since content is unlocked */
  .print-pro-tier .accordion-section--locked .report-accordion__header::after,
  .print-pro-tier [data-locked="true"] .report-accordion__header::after {
    content: '' !important;
    display: none !important;
  }

  /* Pro tier: Show all fix code sections */
  .print-pro-tier .seo-fix-content,
  .print-pro-tier .seo-fix-accordion-content,
  .print-pro-tier .seo-fix-tab-content,
  .print-pro-tier .fix-code,
  .print-pro-tier .fix-code-block,
  .print-pro-tier .recommendation-details,
  .print-pro-tier .fix-details,
  .print-pro-tier .how-to-fix,
  .print-pro-tier [data-pro-only],
  .print-pro-tier .pro-only,
  .print-pro-tier .pro-content {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    max-height: none !important;
    overflow: visible !important;
  }

  /* Lock overlays - hide paywall, show blurred content (free tier) */
  .report-shell__lock-overlay {
    display: block !important;
  }

  .report-shell__lock-paywall,
  [data-paid-unlock-card],
  [data-hide-when-unlocked],
  .pro-report-block__upgrade-prompt {
    display: none !important;
  }

  /* Show locked content but mark as PRO (free tier only) */
  .print-free-tier .is-locked {
    display: block !important;
    opacity: 0.5 !important;
    filter: blur(1px) !important;
  }

  /* Mark PRO sections when not unlocked (free tier only) */
  .print-free-tier .accordion-section--locked,
  .print-free-tier [data-locked="true"] {
    opacity: 0.8 !important;
  }

  .print-free-tier .accordion-section--locked .report-accordion__header::after,
  .print-free-tier [data-locked="true"] .report-accordion__header::after {
    content: ' [PRO]';
    font-family: 'Courier New', Courier, monospace;
    font-size: 10px;
    font-weight: bold;
    color: #9333ea;
    margin-left: 8px;
  }

  /* ============================================
     PAGE LAYOUT
     ============================================ */

  /* Expand all content */
  details {
    open: true;
  }

  details > *:not(summary) {
    display: block !important;
  }

  /* Page breaks */
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }

  table, figure, img,
  .report-accordion,
  .report-shell__summary-card {
    page-break-inside: avoid;
  }
  
  /* Keep accordions together with their content */
  .report-accordion {
    page-break-inside: avoid !important;
  }

  /* Preserve score colors */
  .score-badge,
  .metric-score {
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }
}

/* ===================================
   Responsive adjustments for PDF
   =================================== */

@media screen and (max-width: 1200px) {
  .pdf-export-mode {
    width: 100% !important;
  }
}
